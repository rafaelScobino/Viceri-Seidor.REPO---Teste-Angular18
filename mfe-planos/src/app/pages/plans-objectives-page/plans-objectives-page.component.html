<div class="w-full p-10">
  <div class="mb-5">
    <p-table>
      <ng-template pTemplate="caption">
        <div class="flex items-center justify-between">
          <span class="text-xl font-bold">Cadastro de Planos</span>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th>{{ plan.titulo }}</th>
          <th>{{ plan.descricao }}</th>
          <th>{{ plan.dataInicio }}</th>
          <th>{{ plan.dataFim }}</th>
          <th>{{ plan.status }}</th>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <p-stepper [value]="1" class="w-full">
    <p-step-list>
      <p-step [value]="1">Informação geral</p-step>
      <p-step [value]="2">Cadastro de problemas</p-step>
      <p-step [value]="3">Cadastro de ações</p-step>
    </p-step-list>

    <p-step-panels>
      <p-step-panel [value]="1">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="flex flex-col">
            <app-objective-info-container></app-objective-info-container>
            <div class="flex pt-4 justify-end">
              <p-button
                label="Next"
                icon="pi pi-arrow-right"
                iconPos="right"
                (onClick)="activateCallback(2)"
              />
            </div>
          </div>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="2">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="flex flex-col">
            <app-objective-problems-container></app-objective-problems-container>
          </div>
          <div class="flex pt-4 justify-between">
            <p-button
              label="Back"
              severity="secondary"
              icon="pi pi-arrow-left"
              (onClick)="activateCallback(1)"
            />
            <p-button
              label="Next"
              icon="pi pi-arrow-right"
              iconPos="right"
              (onClick)="activateCallback(3)"
            />
          </div>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="3">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="flex flex-col">
            <app-objective-actions-container></app-objective-actions-container>
          </div>
          <div class="flex pt-4 justify-between">
            <p-button
              label="Back"
              severity="secondary"
              icon="pi pi-arrow-left"
              iconPos="right"
              (onClick)="activateCallback(2)"
            />
            <p-button
              label="Cadastrar Plano"
              raised="true"
              icon="pi pi-check"
              severity="success"
              iconPos="right"
              (onClick)="submitPlano()"
            />
          </div>
        </ng-template>
      </p-step-panel>
    </p-step-panels>
  </p-stepper>
</div>

<p-toast position="center" key="plano-cadastro-toast" />
