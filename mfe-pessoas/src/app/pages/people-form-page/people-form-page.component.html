<div class="w-full p-10">
  <div class="mb-5">
    <p-table>
      <ng-template pTemplate="caption">
        <div class="flex items-center justify-between">
          <span class="text-xl font-bold">Cadastro de Pessoa</span>
        </div>
      </ng-template>
    </p-table>
  </div>

  <p-stepper [value]="1" class="w-full">
    <p-step-list>
      <p-step [value]="1">Dados Cadastrais</p-step>
      <p-step [value]="2">Dados de Contato</p-step>
      <p-step [value]="3">Dados de EndereÃ§o</p-step>
    </p-step-list>

    <div class="flex flex-col justify-between md:flex-row gap-6 mt-4">
      <div class="lg:w-2/5 w-full">
        <app-people-card
        #peopleCard
        ></app-people-card>
      </div>

      <div class="lg:w-3/5 w-full">
        <p-step-panels>
          <p-step-panel [value]="1">
            <ng-template #content let-activateCallback="activateCallback">
              <div class="flex flex-col">
                <app-people-form-gerais
                  #formGerais
                  (valueEmit)="updateState($event)"
                ></app-people-form-gerais>
                <div class="flex pt-4 justify-end">
                  <p-button
                    label="Next"
                    icon="pi pi-arrow-right"
                    iconPos="right"
                    (onClick)="activateCallback(2)"
                  />
                </div>
              </div>
            </ng-template>
          </p-step-panel>

          <p-step-panel [value]="2">
            <ng-template #content let-activateCallback="activateCallback">
              <div class="flex flex-col">
                <app-people-form-contato
                  #formContato
                  (valueEmit)="updateState($event)"
                ></app-people-form-contato>
              </div>
              <div class="flex pt-4 justify-between">
                <p-button
                  label="Back"
                  severity="secondary"
                  icon="pi pi-arrow-left"
                  (onClick)="activateCallback(1)"
                />
                <p-button
                  label="Next"
                  icon="pi pi-arrow-right"
                  iconPos="right"
                  (onClick)="activateCallback(3)"
                />
              </div>
            </ng-template>
          </p-step-panel>

          <p-step-panel [value]="3">
            <ng-template #content let-activateCallback="activateCallback">
              <div class="flex flex-col h-36">
                <app-people-form-endereco
                  #formEndereco
                ></app-people-form-endereco>
              </div>
              <div class="flex pt-4 justify-between">
                <p-button
                  label="Back"
                  icon="pi pi-arrow-left"
                  iconPos="right"
                  (onClick)="activateCallback(2)"
                />
                    <p-button
              label="Cadastrar Pessoa"
              raised="true"
              icon="pi pi-check"
              severity="success"
              iconPos="right"
              (onClick)="updateListState()"
            />
              </div>
            </ng-template>
          </p-step-panel>
        </p-step-panels>
      </div>
    </div>
  </p-stepper>
</div>

<p-toast position="center" key="person-cadastro-toast" />
